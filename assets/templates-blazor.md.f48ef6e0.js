import{_ as g,a as m,b as y}from"./booking-new-validation-server.8841e619.js";import{g as w,r as f,v as b,o as l,c as u,b as n,x as v,y as _,d as o,u as c,I as i,z as x,e as s}from"./app.64b20f26.js";const A={class:"w-full flex flex-col justify-center text-center"},T={id:"empty",class:"mt-4 mb-2"},C={class:"flex justify-center mb-8"},S={class:"w-70"},z={class:"w-full flex flex-col justify-center text-center"},B={class:"mb-2"},P={class:"flex justify-center text-center"},q=["href"],R={class:"bg-white dark:bg-gray-800 px-4 py-4 mr-4 mb-4 rounded-lg shadow-lg text-center items-center justify-center hover:shadow-2xl dark:border-2 dark:border-pink-600 dark:hover:border-blue-600 dark:border-2 dark:border-pink-600 dark:hover:border-blue-600",style:{"min-width":"150px"}},I={class:"text-center font-extrabold flex items-center justify-center mb-2"},D={class:"text-4xl text-blue-400 my-3"},N=n("div",{class:"text-xl font-medium text-gray-700"},"Blazor WASM",-1),M=n("div",{class:"flex justify-center h-8"},null,-1),j={class:"archive-name px-4 pb-2 text-blue-600 dark:text-indigo-400"},E=n("div",{class:"count mt-1 text-gray-400 text-sm"},null,-1),W=w({setup(r){const t=f("MyApp"),p=b(()=>(t.value||"MyApp")+".zip"),k=e=>`https://account.servicestack.net/archive/${e}?Name=${t.value||"MyApp"}`,d=e=>{const a=e.charCode;a>=65&&a<=90||a>=97&&a<=122||a>=48&&a<=57||a===95||e.preventDefault()};return(e,a)=>(l(),u("div",null,[n("section",A,[n("div",T,[n("div",C,[n("div",S,[v(n("input",{"onUpdate:modelValue":a[0]||(a[0]=h=>t.value=h),type:"text",placeholder:"Project Name",autocorrect:"off",spellcheck:"false",onKeypress:d,class:"mt-1 text-lg block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500"},null,544),[[_,t.value]])])])])]),n("section",z,[n("div",B,[n("div",P,[n("a",{class:"archive-url hover:no-underline netcoretemplates_empty",href:k("NetCoreTemplates/blazor-wasm")},[n("div",R,[n("div",I,[n("div",D,[o(c(i),{icon:"simple-icons:blazor",class:"w-14 h-14 text-purple-500"})])]),N,M,n("span",j,x(c(p)),1),E])],8,q)])])])]))}}),$={class:"my-8 ml-20 flex flex-col items-center"},O=n("h1",null,"Blazor WebAssembly Template",-1),H=n("p",null,[s("The feature-rich Blazor WASM template is ideal for teams with strong C# skills building Line Of Business (LOB) applications. Utilizing Blazor WebAssembly (WASM) with a ServiceStack backend yields an optimal frictionless "),n("a",{href:"/api-first-development"},"API First development model"),s(" where UIs can bind directly to Typed DTOs whilst benefiting from ServiceStack's "),n("a",{href:"/validation"},"structured error handling"),s(" & rich contextual form validation binding.")],-1),U=n("p",null,[s("By utilizing ServiceStack's "),n("a",{href:"/physical-project-structure"},"decoupled project structure"),s(", combined with Blazor enabling C# on the client, we're able to get complete reuse of your APIs shared DTOs as-is to enable an end-to-end Typed API automatically free from any additional tooling or code-gen complexity.")],-1),L=n("iframe",{width:"980",height:"551",src:"https://www.youtube.com/embed/TIgjMf_vtCI",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,-1),F=n("h2",{id:"getting-started",tabindex:"-1"},[s("Getting Started "),n("a",{class:"header-anchor",href:"#getting-started","aria-hidden":"true"},"#")],-1),V=n("p",null,[s("If you have the "),n("a",{href:"/dotnet-new"},"x dotnet tool"),s(" installed you can create a new Blazor WASM Project with:")],-1),G=n("div",{class:"sh-copy cp flex cursor-pointer mb-3",onclick:"copy(this)"},[n("div",{class:"flex-grow bg-gray-800"},[n("div",{class:"pl-4 py-1 pb-1.5 align-middle whitespace-pre text-base text-gray-100"},[n("p",null,"x new blazor-wasm ProjectName")])]),n("div",{class:"flex"},[n("div",{class:"bg-green-600 text-white p-1.5 pb-0"},[n("svg",{class:"copied w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),n("svg",{class:"nocopy w-6 h-6",title:"copy",fill:"none",stroke:"white",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})])])])],-1),J=n("h3",{id:"download-new-c-blazor-wasm-project",tabindex:"-1"},[s("Download new C# Blazor WASM Project "),n("a",{class:"header-anchor",href:"#download-new-c-blazor-wasm-project","aria-hidden":"true"},"#")],-1),K=n("p",null,"Alternatively you can create & download a new Blazor Project with your preferred Project Name below:",-1),X=n("h2",{id:"api-and-apiasync-methods",tabindex:"-1"},[s("Api and ApiAsync methods "),n("a",{class:"header-anchor",href:"#api-and-apiasync-methods","aria-hidden":"true"},"#")],-1),Q=n("p",null,".NET was originally conceived to use Exceptions for error control flow however there's been a tendency in modern languages & libraries to shun Exceptions and return errors as normal values, an approach we believe is a more flexible & ergonomic way to handle API responses.",-1),Y=n("h3",{id:"the-apiresult-way",tabindex:"-1"},[s("The ApiResult way "),n("a",{class:"header-anchor",href:"#the-apiresult-way","aria-hidden":"true"},"#")],-1),Z=n("p",null,[s("The "),n("code",null,"Api(Request)"),s(" and "),n("code",null,"ApiAsync(Request)"),s(" APIs returns a typed "),n("code",null,"ApiResult<Response>"),s(" Value Result encapsulating either a Typed Response or a structured API Error populated in "),n("code",null,"ResponseStatus"),s(" allowing you to handle API responses programmatically without "),n("code",null,"try/catch"),s(" handling:")],-1),nn=n("p",null,"The below example code to create a new Booking:",-1),sn=n("div",{class:"language-csharp"},[n("pre",null,[n("code",null,[n("span",{class:"token class-name"},"CreateBooking"),s(" request "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token class-name"},[s("ApiResult"),n("span",{class:"token punctuation"},"<"),s("IdResponse"),n("span",{class:"token punctuation"},">")]),s(" api "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token return-type class-name"},"Task"),s(),n("span",{class:"token function"},"OnSubmit"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    api `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" Client"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ApiAsync"),n("span",{class:"token punctuation"},"("),s("request"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("api"),n("span",{class:"token punctuation"},"."),s("Succeeded"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"await"),s(" done"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"InvokeAsync"),n("span",{class:"token punctuation"},"("),s("api"),n("span",{class:"token punctuation"},"."),s("Response"),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        request `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),an=n("p",null,[s("Which despite its terseness handles both "),n("strong",null,"success"),s(" and "),n("strong",null,"error"),s(" API responses, "),n("strong",null,"if successful"),s(" it invokes the "),n("code",null,"done()"),s(" callback notifying its parent of the new Booking API Response before resetting the Form's data model with a new Request DTO.")],-1),tn=n("p",null,[s("Upon "),n("strong",null,"failure"),s(" the error response is populated in "),n("code",null,"api.Error"),s(" which binds to the UI via Blazor's "),n("code",null,"<CascadingValue Value=@api.Error>"),s(" to propagate it to all its child components in order to show contextual validation errors next to their respective Input controls.")],-1),en=n("h2",{id:"json-api-client",tabindex:"-1"},[s("JSON API Client "),n("a",{class:"header-anchor",href:"#json-api-client","aria-hidden":"true"},"#")],-1),on=n("p",null,[s("The recommended way for configuring a Service Client to use in your Blazor WASM Apps is to use "),n("code",null,"AddBlazorApiClient()"),s(", e.g:")],-1),cn=n("div",{class:"language-csharp"},[n("pre",null,[n("code",null,[s("builder"),n("span",{class:"token punctuation"},"."),s("Services"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"AddBlazorApiClient"),n("span",{class:"token punctuation"},"("),s("builder"),n("span",{class:"token punctuation"},"."),s("Configuration"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"ApiBaseUrl"'),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"??"),s(" builder"),n("span",{class:"token punctuation"},"."),s("HostEnvironment"),n("span",{class:"token punctuation"},"."),s("BaseAddress"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])])],-1),pn=n("p",null,[s("Which registers a typed Http Client factory returning a recommended pre-configured "),n("code",null,"JsonApiClient"),s(" to communicate with your back-end ServiceStack APIs including support for CORS, required when hosting the decoupled UI on a different server (e.g. CDN) to your server.")],-1),ln=n("p",null,"If you're deploying your Blazor WASM UI to a CDN you'll need to specify the URL for the server, otherwise if it's deployed together with your Server App you can use the Host's Base Address.",-1),un=n("h3",{id:"public-pages-components",tabindex:"-1"},[s("Public Pages & Components "),n("a",{class:"header-anchor",href:"#public-pages-components","aria-hidden":"true"},"#")],-1),rn=n("p",null,[s("To reduce boiler plate, your Blazor Pages & components can inherit the templates local "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.Client/AppComponentBase.cs",target:"_blank",rel:"noopener noreferrer"},"AppComponentBase.cs"),s(" which inherits "),n("code",null,"BlazorComponentBase"),s(" which gets injected with the "),n("code",null,"JsonApiClient"),s(" and provides short-hand access to its most common APIs:")],-1),kn=n("div",{class:"language-csharp"},[n("pre",null,[n("code",null,[n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"BlazorComponentBase"),s(),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token type-list"},[n("span",{class:"token class-name"},"ComponentBase"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"IHasJsonApiClient")]),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"Inject")]),n("span",{class:"token punctuation"},"]"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[s("JsonApiClient"),n("span",{class:"token punctuation"},"?")]),s(" Client "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"virtual"),s(),n("span",{class:"token return-type class-name"},[s("Task"),n("span",{class:"token punctuation"},"<"),s("ApiResult"),n("span",{class:"token punctuation"},"<"),s("TResponse"),n("span",{class:"token punctuation"},">"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token generic-method"},[n("span",{class:"token function"},"ApiAsync"),n("span",{class:"token generic class-name"},[n("span",{class:"token punctuation"},"<"),s("TResponse"),n("span",{class:"token punctuation"},">")])]),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},[s("IReturn"),n("span",{class:"token punctuation"},"<"),s("TResponse"),n("span",{class:"token punctuation"},">")]),s(" request"),n("span",{class:"token punctuation"},")"),s("  "),n("span",{class:"token operator"},"=>"),s(" Client"),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ApiAsync"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},","),s(" request"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"virtual"),s(),n("span",{class:"token return-type class-name"},[s("Task"),n("span",{class:"token punctuation"},"<"),s("ApiResult"),n("span",{class:"token punctuation"},"<"),s("EmptyResponse"),n("span",{class:"token punctuation"},">"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"ApiAsync"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"IReturnVoid"),s(" request"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(" Client"),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ApiAsync"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},","),s(" request"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"virtual"),s(),n("span",{class:"token return-type class-name"},[s("Task"),n("span",{class:"token punctuation"},"<"),s("TResponse"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token generic-method"},[n("span",{class:"token function"},"SendAsync"),n("span",{class:"token generic class-name"},[n("span",{class:"token punctuation"},"<"),s("TResponse"),n("span",{class:"token punctuation"},">")])]),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},[s("IReturn"),n("span",{class:"token punctuation"},"<"),s("TResponse"),n("span",{class:"token punctuation"},">")]),s(" request"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(" Client"),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"SendAsync"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},","),s(" request"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),dn=n("h3",{id:"protected-pages-components",tabindex:"-1"},[s("Protected Pages & Components "),n("a",{class:"header-anchor",href:"#protected-pages-components","aria-hidden":"true"},"#")],-1),hn=n("p",null,[s("Pages and Components requiring Authentication should inherit from "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.Client/AppComponentBase.cs",target:"_blank",rel:"noopener noreferrer"},"AppAuthComponentBase"),s(" instead which integrates with Blazor's Authentication Model to provide access to the currently authenticated user:")],-1),gn=n("div",{class:"language-csharp"},[n("pre",null,[n("code",null,[n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"abstract"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"AppAuthComponentBase"),s(),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token type-list"},[n("span",{class:"token class-name"},"AppComponentBase")]),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"CascadingParameter")]),n("span",{class:"token punctuation"},"]"),s(`
    `),n("span",{class:"token keyword"},"protected"),s(),n("span",{class:"token return-type class-name"},[s("Task"),n("span",{class:"token punctuation"},"<"),s("AuthenticationState"),n("span",{class:"token punctuation"},">"),n("span",{class:"token punctuation"},"?")]),s(" AuthenticationStateTask "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"protected"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"bool")]),s(" HasInit "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"protected"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"bool")]),s(" IsAuthenticated "),n("span",{class:"token operator"},"=>"),s(" User"),n("span",{class:"token punctuation"},"?."),s("Identity"),n("span",{class:"token punctuation"},"?."),s("IsAuthenticated "),n("span",{class:"token operator"},"??"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"protected"),s(),n("span",{class:"token return-type class-name"},[s("ClaimsPrincipal"),n("span",{class:"token punctuation"},"?")]),s(" User "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"protected"),s(),n("span",{class:"token keyword"},"override"),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token return-type class-name"},"Task"),s(),n("span",{class:"token function"},"OnParametersSetAsync"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" state "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" AuthenticationStateTask"),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},";"),s(`
        User `),n("span",{class:"token operator"},"="),s(" state"),n("span",{class:"token punctuation"},"."),s("User"),n("span",{class:"token punctuation"},";"),s(`
        HasInit `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),mn=n("h2",{id:"benefits-of-shared-dtos",tabindex:"-1"},[s("Benefits of Shared DTOs "),n("a",{class:"header-anchor",href:"#benefits-of-shared-dtos","aria-hidden":"true"},"#")],-1),yn=n("p",null,"Typically with Web Apps, our client is using a different language to C#, so an equivalent request DTOs need to be generated for the client.",-1),wn=n("h3",{id:"typescript-example",tabindex:"-1"},[s("TypeScript Example "),n("a",{class:"header-anchor",href:"#typescript-example","aria-hidden":"true"},"#")],-1),fn=n("p",null,[s("For example, TypeScript generated DTOs still give us typed end-to-end services with the help of tooling like "),n("a",{href:"/add-servicestack-reference"},"Add ServiceStack Reference")],-1),bn=n("div",{class:"language-csharp"},[n("pre",null,[n("code",null,[n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"Route"),n("span",{class:"token attribute-arguments"},[n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/hello/{Name}"'),n("span",{class:"token punctuation"},")")])]),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"Hello"),s(),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token type-list"},[n("span",{class:"token class-name"},[s("IReturn"),n("span",{class:"token punctuation"},"<"),s("HelloResponse"),n("span",{class:"token punctuation"},">")])]),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string")]),s(" Name "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"HelloResponse"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string")]),s(" Result "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),vn=n("p",null,"Turns into:",-1),_n=n("div",{class:"language-typescript"},[n("pre",null,[n("code",null,[n("span",{class:"token comment"},'// @Route("/hello/{Name}")'),s(`
`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"Hello"),s(),n("span",{class:"token keyword"},"implements"),s(),n("span",{class:"token class-name"},[s("IReturn"),n("span",{class:"token operator"},"<"),s("HelloResponse"),n("span",{class:"token operator"},">")]),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"public"),s(" name"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token function"},"constructor"),n("span",{class:"token punctuation"},"("),s("init"),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(" Partial"),n("span",{class:"token operator"},"<"),s("Hello"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token punctuation"},"("),s("Object "),n("span",{class:"token keyword"},"as"),s(),n("span",{class:"token builtin"},"any"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"assign"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},","),s(" init"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token function"},"getTypeName"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token string"},"'Hello'"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token function"},"getMethod"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token string"},"'POST'"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token function"},"createResponse"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"HelloResponse"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"HelloResponse"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"public"),s(" result"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"public"),s(" responseStatus"),n("span",{class:"token operator"},":"),s(" ResponseStatus"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token function"},"constructor"),n("span",{class:"token punctuation"},"("),s("init"),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(" Partial"),n("span",{class:"token operator"},"<"),s("HelloResponse"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token punctuation"},"("),s("Object "),n("span",{class:"token keyword"},"as"),s(),n("span",{class:"token builtin"},"any"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"assign"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"this"),n("span",{class:"token punctuation"},","),s(" init"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),xn=n("p",null,[s("When Request or Response DTOs changes during development, the client DTOs need to be regenerated using a command like "),n("a",{href:"./add-servicestack-reference.html#simple-command-line-utilities"},[n("code",null,"x csharp")]),s(".")],-1),An=n("h3",{id:"blazor-wasm-example",tabindex:"-1"},[s("Blazor WASM Example "),n("a",{class:"header-anchor",href:"#blazor-wasm-example","aria-hidden":"true"},"#")],-1),Tn=n("p",null,[s("Developing your Blazor WASM UI however, you just change your shared request/response DTO in the shared "),n("code",null,"ServiceModel"),s(" project, and both your client and server compile against the same request/response DTO classes. This eliminates the need for any additional step.")],-1),Cn=n("p",null,[s("In the "),n("code",null,"ServiceModel"),s(" project, we still have:")],-1),Sn=n("div",{class:"language-csharp"},[n("pre",null,[n("code",null,[n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"Route"),n("span",{class:"token attribute-arguments"},[n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/hello/{Name}"'),n("span",{class:"token punctuation"},")")])]),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"Hello"),s(),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token type-list"},[n("span",{class:"token class-name"},[s("IReturn"),n("span",{class:"token punctuation"},"<"),s("HelloResponse"),n("span",{class:"token punctuation"},">")])]),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string")]),s(" Name "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"HelloResponse"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string")]),s(" Result "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),zn=n("p",null,[s("Which the Blazor C# App can use directly in its "),n("strong",null,".razor"),s(" pages:")],-1),Bn=n("div",{class:"language-csharp"},[n("pre",null,[n("code",null,[s("@code "),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token class-name"},"Hello"),s(" request "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        Name `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"Blazor WASM"'),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token class-name"},[s("ApiResult"),n("span",{class:"token punctuation"},"<"),s("HelloResponse"),n("span",{class:"token punctuation"},">")]),s(" api "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"protected"),s(),n("span",{class:"token keyword"},"override"),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token return-type class-name"},"Task"),s(),n("span",{class:"token function"},"OnInitializedAsync"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"submit"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token return-type class-name"},"Task"),s(),n("span",{class:"token function"},"submit"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(" api "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"ApiAsync"),n("span",{class:"token punctuation"},"("),s("request"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),Pn=n("h2",{id:"servicestack-blazor",tabindex:"-1"},[s("ServiceStack.Blazor "),n("a",{class:"header-anchor",href:"#servicestack-blazor","aria-hidden":"true"},"#")],-1),qn=n("p",null,[s("The "),n("strong",null,"ServiceStack.Blazor"),s(" library contains integrated functionality for Blazor including an optimal JSON API HttpClient Factory, API-enabled base components, HTML Utils and Bootstrap & Tailwind UI Input components heavily utilized throughout the template.")],-1),Rn=n("h3",{id:"built-in-blazor-and-tailwind-ui-components",tabindex:"-1"},[s("Built-in Blazor and Tailwind UI Components "),n("a",{class:"header-anchor",href:"#built-in-blazor-and-tailwind-ui-components","aria-hidden":"true"},"#")],-1),In=n("p",null,[s("The Built-in UI Components enable a clean & productive dev model and share the same base classes making them functionally equivalent and can be swapped when switching CSS frameworks by updating its namespace in your projects "),n("code",null,"_Imports.razor")],-1),Dn=n("p",null,[s("The Blazor Components in "),n("strong",null,"ServiceStack.Blazor"),s(" include:")],-1),Nn=n("table",null,[n("thead",null,[n("tr",null,[n("th",null,"Component"),n("th",null,"Description")])]),n("tbody",null,[n("tr",null,[n("td",null,[n("code",null,"<TextInput>")]),n("td",null,"Text Input control for string properties")]),n("tr",null,[n("td",null,[n("code",null,"<DateTimeInput>")]),n("td",null,"Date Input control for Date properties")]),n("tr",null,[n("td",null,[n("code",null,"<CheckboxInput>")]),n("td",null,"Checkbox Input control for Boolean properties")]),n("tr",null,[n("td",null,[n("code",null,"<SelectInput>")]),n("td",null,"Select Dropdown for properties with finite list of values like Enums")]),n("tr",null,[n("td",null,[n("code",null,"<TextAreaInput>")]),n("td",null,"Text Input control for large strings")]),n("tr",null,[n("td",null,[n("code",null,"<DynamicInput>")]),n("td",null,"Dynamic component utilizing the appropriate above Input controls in Auto Forms")]),n("tr",null,[n("td",null,[n("code",null,"<AlertSuccess>")]),n("td",null,"Displaying successful notification feedback")]),n("tr",null,[n("td",null,[n("code",null,"<ErrorSummary>")]),n("td",null,"Displaying error summary message when no contextual field validation is available")])])],-1),Mn=n("div",{class:"info custom-block"},[n("p",{class:"custom-block-title"},"INFO"),n("p",null,[s("All Input controls support contextual validation of ServiceStack's existing "),n("a",{href:"/error-handling"},"structured Error responses")])],-1),jn=n("h3",{id:"themable",tabindex:"-1"},[s("Themable "),n("a",{class:"header-anchor",href:"#themable","aria-hidden":"true"},"#")],-1),En=n("p",null,[s("Should it be needed, all components are themable by running the included "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.Client/Shared/Components/README.ss",target:"_blank",rel:"noopener noreferrer"},"README.ss"),s(" executable documentation that copies its "),n("strong",null,"Razor"),s(" UI markup locally into your project enabling customization of UI including controls.")],-1),Wn=n("h3",{id:"bookings-crud",tabindex:"-1"},[s("Bookings CRUD "),n("a",{class:"header-anchor",href:"#bookings-crud","aria-hidden":"true"},"#")],-1),$n=n("p",null,[s("The C# Service Client "),n("code",null,"Api*"),s(" methods make calling remote ServiceStack APIs similar to calling a C# method as its returned "),n("code",null,"ApiResult<Response>"),s(" encapsulates both a typed "),n("strong",null,"Error"),s(" & API "),n("strong",null,"Response"),s(" as an alternate way to handle errors as all components can bind directly to its "),n("code",null,"api.Error"),s(".")],-1),On=n("p",null,"The reusability extends to your APIs typed Request DTOs which components can directly 2-way data bind to.",-1),Hn=n("p",null,[s("Below is an example of a CRUD Booking form "),n("a",{href:"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Blazor.Tests/Client/Pages/BookingsCrud/Create.razor",target:"_blank",rel:"noopener noreferrer"},"BookingsCrud/Create.razor"),s(" used to Create Bookings:")],-1),Un=n("div",{class:"language-razor"},[n("pre",null,[n("code",null,[n("span",{class:"token directive"},[n("span",{class:"token keyword"},"@attribute"),s(),n("span",{class:"token csharp language-csharp"},[n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"Authorize"),n("span",{class:"token attribute-arguments"},[n("span",{class:"token punctuation"},"("),s("Roles"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"Employee"'),n("span",{class:"token punctuation"},")")])]),n("span",{class:"token punctuation"},"]")])]),s(`
`),n("span",{class:"token directive"},[n("span",{class:"token keyword"},"@inherits"),s(),n("span",{class:"token csharp language-csharp"},"AppAuthComponentBase")]),s(`

<form `),n("span",{class:"token value variable"},[n("span",{class:"token keyword"},"@"),n("span",{class:"token csharp language-csharp"},"onsubmit")]),s('="_ => OnSubmit()" '),n("span",{class:"token value variable"},[n("span",{class:"token keyword"},"@"),n("span",{class:"token csharp language-csharp"},"onsubmit")]),s(`:preventDefault 
     class=`),n("span",{class:"token value variable"},[n("span",{class:"token keyword"},"@"),n("span",{class:"token csharp language-csharp"},[s("CssUtils"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ClassNames"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"relative shadow rounded p-4"'),n("span",{class:"token punctuation"},","),s("@"),n("span",{class:"token keyword"},"class"),n("span",{class:"token punctuation"},")")])]),s(`>
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("CascadingValue")]),s(),n("span",{class:"token attr-name"},"Value"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),s("@api.Error")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("button")]),s(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("button"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("close"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"@onclick"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("close"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("i")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("i")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("button")]),n("span",{class:"token punctuation"},">")]),s(`

    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("h1")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("fs-4 text-secondary text-center"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
        New Booking
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("h1")]),n("span",{class:"token punctuation"},">")]),s(`

    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("ErrorSummary")]),s(),n("span",{class:"token attr-name"},"Except"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),s("@VisibleFields")]),s(),n("span",{class:"token punctuation"},"/>")]),s(`

    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("mb-3 form-floating"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("TextInput")]),s(),n("span",{class:"token attr-name"},"@bind-Value"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("request.Name"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"required"),s(),n("span",{class:"token attr-name"},"placeholder"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("Name for this booking"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`

    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("mb-3 form-floating"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("SelectInput")]),s(),n("span",{class:"token attr-name"},"@bind-Value"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("request.RoomType"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"Options"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),s("@(Enum.GetValues<RoomType")]),n("span",{class:"token punctuation"},">")]),s(`()) /> 
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`

    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("d-flex"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("mb-3 flex-fill form-floating me-1"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("TextInput")]),s(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("number"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"@bind-Value"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("request.RoomNumber"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"min"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("0"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"required"),s(),n("span",{class:"token punctuation"},"/>")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`

        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("mb-3 flex-fill form-floating"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("TextInput")]),s(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("number"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"@bind-Value"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("request.Cost"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"min"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("0"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"required"),s(),n("span",{class:"token punctuation"},"/>")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`

    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("d-flex"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("mb-3 flex-fill form-floating me-1"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("DateTimeInput")]),s(),n("span",{class:"token attr-name"},"@bind-Value"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("request.BookingStartDate"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"required"),s(),n("span",{class:"token punctuation"},"/>")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`

        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("mb-3 flex-fill form-floating"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("DateTimeInput")]),s(),n("span",{class:"token attr-name"},"@bind-Value"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("request.BookingEndDate"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
    
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("mb-3 form-floating"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("TextAreaInput")]),s(),n("span",{class:"token attr-name"},"@bind-Value"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("request.Notes"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"placeholder"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("Notes about this booking"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value css language-css"},[n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),s("6rem")]),n("span",{class:"token punctuation"},'"')])]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`

    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("d-flex justify-content-between align-items-center"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("button")]),s(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("submit"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("btn btn-primary"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s("Create Booking"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("button")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("CascadingValue")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("form")]),n("span",{class:"token punctuation"},">")]),s(`

`),n("span",{class:"token block"},[n("span",{class:"token keyword"},"@code"),s(),n("span",{class:"token csharp language-csharp"},[n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"Parameter")]),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[s("EventCallback"),n("span",{class:"token punctuation"},"<"),s("IdResponse"),n("span",{class:"token punctuation"},">")]),s(" done "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"Parameter")]),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string"),n("span",{class:"token punctuation"},"?")]),s(" @"),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token class-name"},"CreateBooking"),s(" request "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        BookingStartDate `),n("span",{class:"token operator"},"="),s(" DateTime"),n("span",{class:"token punctuation"},"."),s("UtcNow"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]")]),s(" VisibleFields "),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token keyword"},"new"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"nameof"),n("span",{class:"token punctuation"},"("),s("request"),n("span",{class:"token punctuation"},"."),s("Name"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"nameof"),n("span",{class:"token punctuation"},"("),s("request"),n("span",{class:"token punctuation"},"."),s("RoomType"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"nameof"),n("span",{class:"token punctuation"},"("),s("request"),n("span",{class:"token punctuation"},"."),s("RoomNumber"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"nameof"),n("span",{class:"token punctuation"},"("),s("request"),n("span",{class:"token punctuation"},"."),s("BookingStartDate"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token keyword"},"nameof"),n("span",{class:"token punctuation"},"("),s("request"),n("span",{class:"token punctuation"},"."),s("BookingEndDate"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"nameof"),n("span",{class:"token punctuation"},"("),s("request"),n("span",{class:"token punctuation"},"."),s("Cost"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"nameof"),n("span",{class:"token punctuation"},"("),s("request"),n("span",{class:"token punctuation"},"."),s("Notes"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token class-name"},[s("ApiResult"),n("span",{class:"token punctuation"},"<"),s("IdResponse"),n("span",{class:"token punctuation"},">")]),s(" api "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token return-type class-name"},"Task"),s(),n("span",{class:"token function"},"OnSubmit"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        api `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(),n("span",{class:"token function"},"ApiAsync"),n("span",{class:"token punctuation"},"("),s("request"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("api"),n("span",{class:"token punctuation"},"."),s("Succeeded"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"await"),s(" done"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"InvokeAsync"),n("span",{class:"token punctuation"},"("),s("api"),n("span",{class:"token punctuation"},"."),s("Response"),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            request `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token return-type class-name"},"Task"),s(),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token keyword"},"await"),s(" done"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"InvokeAsync"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}")])]),s(`
`)])])],-1),Ln=n("p",null,[s("Which binds directly to the "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.ServiceModel/Bookings.cs",target:"_blank",rel:"noopener noreferrer"},"CreateBooking"),s(" Request DTO:")],-1),Fn=n("div",{class:"language-csharp"},[n("pre",null,[n("code",null,[n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"Tag"),n("span",{class:"token attribute-arguments"},[n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"bookings"'),n("span",{class:"token punctuation"},")")]),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Description"),n("span",{class:"token attribute-arguments"},[n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Create a new Booking"'),n("span",{class:"token punctuation"},")")])]),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"Route"),n("span",{class:"token attribute-arguments"},[n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/bookings"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"POST"'),n("span",{class:"token punctuation"},")")])]),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"ValidateHasRole"),n("span",{class:"token attribute-arguments"},[n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Employee"'),n("span",{class:"token punctuation"},")")])]),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"AutoApply"),n("span",{class:"token attribute-arguments"},[n("span",{class:"token punctuation"},"("),s("Behavior"),n("span",{class:"token punctuation"},"."),s("AuditCreate"),n("span",{class:"token punctuation"},")")])]),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"CreateBooking"),s(),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token type-list"},[n("span",{class:"token class-name"},[s("ICreateDb"),n("span",{class:"token punctuation"},"<"),s("Booking"),n("span",{class:"token punctuation"},">")]),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},[s("IReturn"),n("span",{class:"token punctuation"},"<"),s("IdResponse"),n("span",{class:"token punctuation"},">")])]),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"Description"),n("span",{class:"token attribute-arguments"},[n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Name this Booking is for"'),n("span",{class:"token punctuation"},")")]),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"ValidateNotEmpty")]),n("span",{class:"token punctuation"},"]"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string")]),s(" Name "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},"RoomType"),s(" RoomType "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"ValidateGreaterThan"),n("span",{class:"token attribute-arguments"},[n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")")])]),n("span",{class:"token punctuation"},"]"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"int")]),s(" RoomNumber "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"ValidateGreaterThan"),n("span",{class:"token attribute-arguments"},[n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")")])]),n("span",{class:"token punctuation"},"]"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"decimal")]),s(" Cost "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},"DateTime"),s(" BookingStartDate "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[s("DateTime"),n("span",{class:"token punctuation"},"?")]),s(" BookingEndDate "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"Input"),n("span",{class:"token attribute-arguments"},[n("span",{class:"token punctuation"},"("),s("Type "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"textarea"'),n("span",{class:"token punctuation"},")")])]),n("span",{class:"token punctuation"},"]"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string"),n("span",{class:"token punctuation"},"?")]),s(" Notes "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),Vn=n("p",null,"To initially render this form:",-1),Gn=n("a",{class:"flex flex-col justify-center items-center my-8",href:"https://blazor-wasm.jamstacks.net/bookings-crud"},[n("img",{src:g,class:"max-w-screen-md"})],-1),Jn=n("p",null,[s("Whose "),n("code",null,"[ValidateNotEmpty]"),s(),n("a",{href:"/declarative-validation"},"declarative validator"),s(" filters down to the "),n("strong",null,"client Input"),s(" UI to prevent unnecessary invalid API requests:")],-1),Kn=n("a",{class:"flex flex-col justify-center items-center my-8",href:"https://blazor-wasm.jamstacks.net/bookings-crud"},[n("img",{src:m,class:"max-w-screen-md"})],-1),Xn=n("p",null,"Validation of server error responses looks like:",-1),Qn=n("a",{class:"flex flex-col justify-center items-center my-8",href:"https://blazor-wasm.jamstacks.net/bookings-crud"},[n("img",{src:y,class:"max-w-screen-md"})],-1),Yn=n("h4",{id:"use-of-form",tabindex:"-1"},[s("Use of "),n("code",null,"form"),s(),n("a",{class:"header-anchor",href:"#use-of-form","aria-hidden":"true"},"#")],-1),Zn=n("p",null,[s("Validation errors use the standard "),n("code",null,"<form>"),s(" element and "),n("code",null,"api.Error"),s(" responses that can be passed directly to each control or in this case uses Blazor's built-in "),n("code",null,"<CascadingValue Value=@api.Error>"),s(" to cascade it to child components controls that can make use of it to display contextual errors.")],-1),ns=n("h4",{id:"integrated-auth",tabindex:"-1"},[s("Integrated Auth "),n("a",{class:"header-anchor",href:"#integrated-auth","aria-hidden":"true"},"#")],-1),ss=n("p",null,[s("It uses the templates included "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.Client/AppComponentBase.cs",target:"_blank",rel:"noopener noreferrer"},"AppComponentBase"),s(" which integrates with Blazor's Auth model allowing it to use its standard "),n("code",null,'[Authorize(Roles="Employee")]'),s(" attributes and provides access to the Authenticated User's info populated from Secure; HttpOnly JWT Cookies for secure stateless client Authentication that works across App deployments and without any server infrastructure.")],-1),as=n("p",null,[s("Public pages can inherit "),n("code",null,"AppComponentBase"),s(" to access ServiceStack.Blazor's "),n("a",{href:"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Blazor/BlazorComponentBase.cs",target:"_blank",rel:"noopener noreferrer"},"BlazorComponentBase"),s(" and get access to "),n("code",null,"JsonApiClient"),s(" dependency and related functionality.")],-1),ts=n("h4",{id:"autoquery-crud-example",tabindex:"-1"},[s("AutoQuery CRUD Example "),n("a",{class:"header-anchor",href:"#autoquery-crud-example","aria-hidden":"true"},"#")],-1),es=n("p",null,[n("code",null,"CreateBooking"),s(" is an "),n("a",{href:"/autoquery-crud"},"AutoQuery CRUD"),s(" Request DTO, it works without a server implementation as it uses the default (and "),n("a",{href:"/autoquery-crud#custom-autoquery-crud-services"},"overridable"),s(") implementation generated by AutoQuery.")],-1),os=n("h2",{id:"blazor-trade-offs",tabindex:"-1"},[s("Blazor Trade-offs "),n("a",{class:"header-anchor",href:"#blazor-trade-offs","aria-hidden":"true"},"#")],-1),cs=n("p",null,"Blazor WASM enables reuse of C# skills, tooling & libraries offers a compelling advantage for .NET teams, so much so it has become our preferred technology for developing internal LOB applications as it's better able to reuse existing C# investments in an integrated SPA Framework utilizing a single toolchain.",-1),ps=n("p",null,"It does however come at a cost of a larger initial download size and performance cost resulting in a high Time-To-First-Render (TTFR) and an overall poor initial User Experience when served over the Internet, that's further exacerbated over low speed Mobile connections.",-1),ls=n("p",null,[s("This is likely an acceptable trade-off for most LOB applications served over high-speed local networks but may not be a suitable choice for public Internet sites "),n("em",null,[s("(an area our other "),n("a",{href:"https://jamstacks.net",target:"_blank",rel:"noopener noreferrer"},"jamstacks.net"),s(" templates may serve better)")]),s(".")],-1),us=n("p",null,"As an SPA it also suffers from poor SEO as content isn't included in the initial page and needs to be rendered in the browser after the App has initialized. For some content heavy sites this can be a deal-breaker either requiring proxy rules so content pages are served by a different SEO friendly site or otherwise prohibits using Blazor WASM entirely.",-1),is=n("h3",{id:"improving-startup-performance",tabindex:"-1"},[s("Improving Startup Performance "),n("a",{class:"header-anchor",href:"#improving-startup-performance","aria-hidden":"true"},"#")],-1),rs=n("p",null,[s("The solution to both issues is fairly straightforward, by utilizing the mainstay solution behind "),n("a",{href:"https://jamstack.org/generators/",target:"_blank",rel:"noopener noreferrer"},"Jamstack Frameworks"),s(" and prerender content at build time.")],-1),ks=n("p",null,[s("We know what needs to be done, but how best to do it in Blazor WASM? Unfortunately the "),n("a",{href:"https://docs.microsoft.com/en-us/aspnet/core/blazor/components/prerendering-and-integration?view=aspnetcore-6.0&pivots=webassembly",target:"_blank",rel:"noopener noreferrer"},"official Blazor WASM prerendering guide"),s(" isn't actually a prerendering solution, as is typically used to describe "),n("a",{href:"https://www.netlify.com/blog/2020/04/14/what-is-a-static-site-generator-and-3-ways-to-find-the-best-one/",target:"_blank",rel:"noopener noreferrer"},"Static Site Generators (SSG)"),s(" prerendering static content at build-time, whilst Blazor WASM prerendering docs instead describes a "),n("a",{href:"https://www.omnisci.com/technical-glossary/server-side-rendering",target:"_blank",rel:"noopener noreferrer"},"Server-Side-Rendering (SSR)"),s(" solution mandating the additional complexity of maintaining your Apps dependencies in both client and server projects. Unfortunately this approach also wont yield an optimal result since prerendering is typically used so Apps can host their SSG content on static file hosts, instead SSR does the opposite whose forced runtime coupling to the .NET Server Host prohibits Blazor WASM Apps from being served from a CDN.")],-1),ds=n("p",null,[s("As this defeats "),n("a",{href:"https://blazor-wasm.jamstacks.net/docs/hosting",target:"_blank",rel:"noopener noreferrer"},"many of the benefits"),s(" of a Blazor WASM Jamstack App in the first place, we've instead opted for a more optimal solution that doesn't compromise its CDN hostability.")],-1),hs=n("h3",{id:"increasing-perceived-performance",tabindex:"-1"},[s("Increasing Perceived Performance "),n("a",{class:"header-anchor",href:"#increasing-perceived-performance","aria-hidden":"true"},"#")],-1),gs=n("p",null,[s("We have little opportunity over improving the startup time of the real C# Blazor App beyond hosting its static assets on CDN edge caches, but ultimately what matters is "),n("a",{href:"https://marvelapp.com/blog/a-designers-guide-to-perceived-performance/",target:"_blank",rel:"noopener noreferrer"},"perceived performance"),s(" which we do have control over given the screen for a default Blazor WASM project is a glaring white screen flash:")],-1),ms=n("p",null,[n("img",{src:"https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/jamstack/blazor-wasm/loading-default.png",alt:""})],-1),ys=n("p",null,"The longer users have to wait looking at this black loading screen without signs of progress, the more they'll associate your site with taking forever to load.",-1),ws=n("p",null,"One technique many popular sites are using to increase perceived performance is to use content placeholders in place of real-content which gives the impression that the site has almost loaded and only requires a few moments more for the latest live data to be slotted in.",-1),fs=n("p",null,"As an example here's what YouTube content placeholders mimicking the page layout looks like before the real site has loaded:",-1),bs=n("p",null,[n("img",{src:"https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/jamstack/youtube-placeholder.png",alt:""})],-1),vs=n("p",null,"But we can do even better than an inert content placeholder, and load a temporary chrome of our App. But as this needs to be done before Blazor has loaded we need to implement this with a sprinkling of HTML + JS.",-1),_s=n("p",null,[s("First thing we need to do is move the scoped styles of our Apps "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.Client/Shared/MainLayout.razor",target:"_blank",rel:"noopener noreferrer"},"MainLayout"),s(" and "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.Client/Shared/NavMenu.razor",target:"_blank",rel:"noopener noreferrer"},"NavMenu"),s(" into an external "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.Client/wwwroot/css/main-layout.css",target:"_blank",rel:"noopener noreferrer"},"main-layout.css"),s(" so our temp App chrome can use it.")],-1),xs=n("p",null,[s("Then in our "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.Client/wwwroot/index.html",target:"_blank",rel:"noopener noreferrer"},"/wwwroot/index.html"),s(" anything between "),n("code",null,'<div id="app"></div>'),s(" is displayed whilst our Blazor App is loading, before it's replaced with the real App.")],-1),As=n("p",null,[s("So Here we just paste in the "),n("strong",null,"MainLayout"),s(" markup:")],-1),Ts=n("div",{class:"language-html"},[n("pre",null,[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("app"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token comment"},"<!-- loading: render temp static app chrome to improve perceived performance -->"),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("app-loading"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("main-layout page"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("sidebar"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("top-row navbar navbar-dark"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
                `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("a")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("navbar-brand ps-4"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"href"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("/"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s("MyApp"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("a")]),n("span",{class:"token punctuation"},">")]),s(`
                `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("button")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("navbar-toggler"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
                    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("span")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("navbar-toggler-icon"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("span")]),n("span",{class:"token punctuation"},">")]),s(`
                `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("button")]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("collapse"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
                `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("ul")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("nav flex-column"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("ul")]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("main"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("main-top-row px-4"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
                `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("ul")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("nav nav-pills"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("ul")]),n("span",{class:"token punctuation"},">")]),s(`
                `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("a")]),s(),n("span",{class:"token attr-name"},"href"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("signin?return=docs/deploy"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("btn btn-outline-primary"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
                    Login
                `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("a")]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("content px-4"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
                `),n("span",{class:"token comment"},"<!--PAGE-->"),s(`
                `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("spinner-border float-start mt-2 me-2"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"role"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("status"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
                    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("span")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("sr-only"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("span")]),n("span",{class:"token punctuation"},">")]),s(`
                `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
                `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("h1")]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value css language-css"},[n("span",{class:"token property"},"font-size"),n("span",{class:"token punctuation"},":"),s("36px")]),n("span",{class:"token punctuation"},'"')])]),n("span",{class:"token punctuation"},">")]),s(`
                    Loading...
                `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("h1")]),n("span",{class:"token punctuation"},">")]),s(`
                `),n("span",{class:"token comment"},"<!--/PAGE-->"),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
`)])])],-1),Cs=n("p",null,"Less our App's navigation menus which we'll dynamically generate with the splash of JS below:",-1),Ss=n("div",{class:"language-js"},[n("pre",null,[n("code",null,[n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"SIDEBAR"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},`
    Home,home,/$
    Counter,plus,/counter
    Todos,clipboard,/todomvc
    Bookings CRUD,calendar,/bookings-crud
    Call Hello,transfer,/hello$
    Call HelloSecure,shield,/hello-secure
    Fetch data,list-rich,/fetchdata
    Admin,lock-locked,/admin
    Login,account-login,/signin
`),n("span",{class:"token template-punctuation string"},"`")]),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token constant"},"TOP"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},`
    0.40 /mo,dollar,/docs/hosting
    Prerendering,loop-circular,/docs/prerender
    Deployments,cloud-upload,/docs/deploy
`),n("span",{class:"token template-punctuation string"},"`")]),s(`

`),n("span",{class:"token keyword"},"const"),s(" path "),n("span",{class:"token operator"},"="),s(" location"),n("span",{class:"token punctuation"},"."),s(`pathname
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"NAV"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token punctuation"},"{"),s(" label"),n("span",{class:"token punctuation"},","),s(" cls"),n("span",{class:"token punctuation"},","),s(" icon"),n("span",{class:"token punctuation"},","),s(" route"),n("span",{class:"token punctuation"},","),s(" exact "),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},'<li class="nav-item'),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("cls"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},`">
    <a href="`),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("route"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},'" class="nav-link'),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),n("span",{class:"token punctuation"},"("),s("exact "),n("span",{class:"token operator"},"?"),s(" path"),n("span",{class:"token operator"},"=="),s("route "),n("span",{class:"token operator"},":"),s(" path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"startsWith"),n("span",{class:"token punctuation"},"("),s("route"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"?"),s(),n("span",{class:"token string"},"' active'"),s(),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"''"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},`">
        <span class="oi oi-`),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("icon"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},'" aria-hidden="true"></span> '),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("label"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},`
    </a></li>`),n("span",{class:"token template-punctuation string"},"`")]),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"renderNav"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("csv"),n("span",{class:"token punctuation"},","),s("f")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(" csv"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"trim"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"split"),n("span",{class:"token punctuation"},"("),n("span",{class:"token regex"},[n("span",{class:"token regex-delimiter"},"/"),n("span",{class:"token regex-source language-regex"},"\\r?\\n"),n("span",{class:"token regex-delimiter"},"/"),n("span",{class:"token regex-flags"},"g")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"s"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token constant"},"NAV"),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"f"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"apply"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s("s"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"split"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"','"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"''"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"$1"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token parameter"},"s"),s(),n("span",{class:"token operator"},"=>"),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"querySelector"),n("span",{class:"token punctuation"},"("),s("s"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token function"},"$1"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'#app-loading .sidebar .nav'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("innerHTML "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"renderNav"),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"SIDEBAR"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("label"),n("span",{class:"token punctuation"},","),s(" icon"),n("span",{class:"token punctuation"},","),s(" route")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    label`),n("span",{class:"token punctuation"},","),s(" cls"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"}," px-3"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("route "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token constant"},"SIDEBAR"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),s("route "),n("span",{class:"token operator"},"?"),s(),n("span",{class:"token string"},"' pt-3'"),s(),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"''"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},","),s(`
    icon`),n("span",{class:"token punctuation"},","),s(" route"),n("span",{class:"token operator"},":"),s(" route"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"replace"),n("span",{class:"token punctuation"},"("),n("span",{class:"token regex"},[n("span",{class:"token regex-delimiter"},"/"),n("span",{class:"token regex-source language-regex"},"\\$$"),n("span",{class:"token regex-delimiter"},"/")]),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"''"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(" exact"),n("span",{class:"token operator"},":"),s(" route"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"endsWith"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'$'"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token function"},"$1"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'#app-loading .main-top-row .nav'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("innerHTML "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"renderNav"),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"TOP"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("label"),n("span",{class:"token punctuation"},","),s(" icon"),n("span",{class:"token punctuation"},","),s(" route")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    label`),n("span",{class:"token punctuation"},","),s(" cls"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"''"),n("span",{class:"token punctuation"},","),s(" icon"),n("span",{class:"token punctuation"},","),s(" route"),n("span",{class:"token operator"},":"),s(" route"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"replace"),n("span",{class:"token punctuation"},"("),n("span",{class:"token regex"},[n("span",{class:"token regex-delimiter"},"/"),n("span",{class:"token regex-source language-regex"},"\\$$"),n("span",{class:"token regex-delimiter"},"/")]),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"''"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(" exact"),n("span",{class:"token operator"},":"),s(" route"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"endsWith"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'$'"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
`)])])],-1),zs=n("p",null,"Which takes care of both rendering the top and sidebar menus as well as highlighting the active menu for the active nav item being loaded, and because we're rendering our real App navigation with real links, users will be able to navigate to the page they want before our App has loaded.",-1),Bs=n("p",null,[s("So you can distinguish a prerendered page from a Blazor rendered page we've added a "),n("strong",null,"subtle box shadow"),s(" to prerendered content which you'll see initially before being reverting to a flat border when the Blazor App takes over and replaces the entire page:")],-1),Ps=n("div",{class:"language-html"},[n("pre",null,[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("style")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token style"},[n("span",{class:"token language-css"},[s(`
`),n("span",{class:"token selector"},"#app-loading .content"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token property"},"box-shadow"),n("span",{class:"token punctuation"},":"),s(" inset 0 4px 4px 0 "),n("span",{class:"token function"},"rgb"),n("span",{class:"token punctuation"},"("),s("0 0 0 / 0.05"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("style")]),n("span",{class:"token punctuation"},">")]),s(`
`)])])],-1),qs=n("p",null,[s("With just this, every page now benefits from an instant App chrome to give the perception that our App has loaded instantly before any C# in our Blazor App is run. E.g. here's what the "),n("a",{href:"https://blazor-wasm.jamstacks.net/counter",target:"_blank",rel:"noopener noreferrer"},"Blazor Counter"),s(" page looks like while it's loading:")],-1),Rs=n("p",null,[n("img",{src:"https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/jamstack/blazor-wasm/loading.png",alt:""})],-1),Is=n("p",null,[s("If you click refresh the "),n("a",{href:"https://blazor-wasm.jamstacks.net/counter",target:"_blank",rel:"noopener noreferrer"},"/counter"),s(" page a few times you'll see the new loading screen prior to the Counter page being available.")],-1),Ds=n("p",null,'Our App is now in a pretty shippable state with decent UX of a loading page that looks like it loaded instantly instead of the "under construction" Loading... page from the default Blazor WASM project template.',-1),Ns=n("p",null,[s("It's not quite a zero maintenance solution but still fairly low maintenance as only the "),n("code",null,"SIDEBAR"),s(" and "),n("code",null,"TOP"),s(" csv lists need updating when add/removing menu items.")],-1),Ms=n("h3",{id:"improving-ux-with-prerendering",tabindex:"-1"},[s("Improving UX with Prerendering "),n("a",{class:"header-anchor",href:"#improving-ux-with-prerendering","aria-hidden":"true"},"#")],-1),js=n("p",null,[s("We'll now turn our focus to the most important page in our App, the "),n("a",{href:"https://blazor-wasm.jamstacks.net",target:"_blank",rel:"noopener noreferrer"},"Home Page"),s(" which is the page most people will see when loading the App from the first time.")],-1),Es=n("p",null,[s("With the above temp App chrome already in place, a simple generic pre-rendering solution to be able to load any prerendered page is to check if any prerendered content exists in the "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/tree/gh-pages/prerender",target:"_blank",rel:"noopener noreferrer"},"/prerender"),s(" folder for the current path, then if it does replace the default index.html "),n("code",null,"Loading..."),s(" page with it:")],-1),Ws=n("div",{class:"language-js"},[n("pre",null,[n("code",null,[n("span",{class:"token keyword"},"const"),s(" pagePath "),n("span",{class:"token operator"},"="),s(" path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"endsWith"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'/'"),n("span",{class:"token punctuation"},")"),s(` 
    `),n("span",{class:"token operator"},"?"),s(" path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"substring"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},","),s(" path"),n("span",{class:"token punctuation"},"."),s("length "),n("span",{class:"token operator"},"-"),s(),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},"'/index.html'"),s(` 
    `),n("span",{class:"token operator"},":"),s(` path
`),n("span",{class:"token function"},"fetch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"/prerender"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("pagePath"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"then"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"r"),s(),n("span",{class:"token operator"},"=>"),s(" r"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"text"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"then"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"html"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("html"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"indexOf"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'<!DOCTYPE html>'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token comment"},"// ignore CDN 404.html"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" pageBody "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"$1"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'#app-loading .content'"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("pageBody"),n("span",{class:"token punctuation"},")"),s(` 
            pageBody`),n("span",{class:"token punctuation"},"."),s("innerHTML "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},'<i hidden data-prerender="'),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),s("path"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},'"></i>'),n("span",{class:"token template-punctuation string"},"`")]),s(),n("span",{class:"token operator"},"+"),s(` html
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"catch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token comment"},"/* no prerendered content found for this path */"),n("span",{class:"token punctuation"},")"),s(`
`)])])],-1),$s=n("p",null,"We also tag which path the prerendered content is for and provide a JS function to fetch the prerendered content which we'll need to access later in our App:",-1),Os=n("div",{class:"language-html"},[n("pre",null,[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("script")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[s(`
`),n("span",{class:"token comment"},"/* Loading */"),s(`
window`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function-variable function"},"prerenderedPage"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"const"),s(" el "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"querySelector"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'#app-loading .content'"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"return"),s(" el "),n("span",{class:"token operator"},"&&"),s(" el"),n("span",{class:"token punctuation"},"."),s("innerHTML "),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token string"},"''"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("script")]),n("span",{class:"token punctuation"},">")]),s(`
`)])])],-1),Hs=n("p",null,[s("We now have a solution in place to load pre-rendered content from the "),n("code",null,"/prerender"),s(" folder, but still need some way of generating it.")],-1),Us=n("p",null,"The solution is technology independent in that you can you use any solution your most comfortable with, (even manually construct each prerendered page if preferred), although it's less maintenance if you automate and get your CI to regenerate it when it publishes your App.",-1),Ls=n("p",null,[s("Which ever tool you choose would also need to be installed in your CI/GitHub Action if that's where it's run, so we've opted for a dependency-free & least invasive solution by utilizing the existing Tests project, which has both great IDE tooling support and can easily be run from the command-line and importantly is supported by the "),n("a",{href:"https://bunit.dev",target:"_blank",rel:"noopener noreferrer"},"bUnit"),s(" testing library which we'll be using to render component fragments in isolation.")],-1),Fs=n("p",null,[s("To distinguish prerendering tasks from our other Tests we've tagged "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.Tests/PrerenderTasks.cs",target:"_blank",rel:"noopener noreferrer"},"PrerenderTasks.cs"),s(" with the "),n("code",null,"prerender"),s(" Test category. The only configuration the tasks require is the location of the "),n("code",null,"ClientDir"),s(" WASM Project defined in "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.Tests/appsettings.json",target:"_blank",rel:"noopener noreferrer"},"appsettings.json"),s(" that's setup in the constructor.")],-1),Vs=n("p",null,[s("The "),n("code",null,"Render<T>()"),s(" method renders the Blazor Page inside a "),n("code",null,"Bunit.TestContext"),s(" which it saves at the location specified by its "),n("code",null,"@page"),s(" directive.")],-1),Gs=n("div",{class:"language-csharp"},[n("pre",null,[n("code",null,[n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"TestFixture"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"Category"),n("span",{class:"token attribute-arguments"},[n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"prerender"'),n("span",{class:"token punctuation"},")")])]),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"PrerenderTasks"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token class-name"},[s("Bunit"),n("span",{class:"token punctuation"},"."),s("TestContext")]),s(" Context"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"string")]),s(" ClientDir"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string")]),s(" WwrootDir "),n("span",{class:"token operator"},"=>"),s(" ClientDir"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"CombineWith"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"wwwroot"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string")]),s(" PrerenderDir "),n("span",{class:"token operator"},"=>"),s(" WwrootDir"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"CombineWith"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"prerender"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token function"},"PrerenderTasks"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        Context `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" config "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token constructor-invocation class-name"},"ConfigurationBuilder"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"AddJsonFile"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"appsettings.json"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Build"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        ClientDir `),n("span",{class:"token operator"},"="),s(" config"),n("span",{class:"token punctuation"},"["),n("span",{class:"token keyword"},"nameof"),n("span",{class:"token punctuation"},"("),s("ClientDir"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"]"),s(` 
            `),n("span",{class:"token operator"},"??"),s(),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token constructor-invocation class-name"},"Exception"),n("span",{class:"token punctuation"},"("),n("span",{class:"token interpolation-string"},[n("span",{class:"token string"},'$"'),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},[n("span",{class:"token keyword"},"nameof"),n("span",{class:"token punctuation"},"("),s("ClientDir"),n("span",{class:"token punctuation"},")")]),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},' not defined in appsettings.json"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        FileSystemVirtualFiles`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"RecreateDirectory"),n("span",{class:"token punctuation"},"("),s("PrerenderDir"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"void")]),s(),n("span",{class:"token generic-method"},[n("span",{class:"token function"},"Render"),n("span",{class:"token generic class-name"},[n("span",{class:"token punctuation"},"<"),s("T"),n("span",{class:"token punctuation"},">")])]),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"params"),s(),n("span",{class:"token class-name"},[s("ComponentParameter"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]")]),s(" parameters"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"where"),s(),n("span",{class:"token class-name"},"T"),s(),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token type-list"},[n("span",{class:"token class-name"},"IComponent")]),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token function"},"WriteLine"),n("span",{class:"token punctuation"},"("),n("span",{class:"token interpolation-string"},[n("span",{class:"token string"},'$"Rendering: '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},[n("span",{class:"token keyword"},"typeof"),n("span",{class:"token punctuation"},"("),n("span",{class:"token type-expression class-name"},"T"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("FullName")]),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'..."')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" component "),n("span",{class:"token operator"},"="),s(" Context"),n("span",{class:"token punctuation"},"."),n("span",{class:"token generic-method"},[n("span",{class:"token function"},"RenderComponent"),n("span",{class:"token generic class-name"},[n("span",{class:"token punctuation"},"<"),s("T"),n("span",{class:"token punctuation"},">")])]),n("span",{class:"token punctuation"},"("),s("parameters"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" route "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"typeof"),n("span",{class:"token punctuation"},"("),n("span",{class:"token type-expression class-name"},"T"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token generic-method"},[n("span",{class:"token function"},"GetCustomAttribute"),n("span",{class:"token generic class-name"},[n("span",{class:"token punctuation"},"<"),s("RouteAttribute"),n("span",{class:"token punctuation"},">")])]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"?."),s("Template"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"string"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"IsNullOrEmpty"),n("span",{class:"token punctuation"},"("),s("route"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token constructor-invocation class-name"},"Exception"),n("span",{class:"token punctuation"},"("),n("span",{class:"token interpolation-string"},[n("span",{class:"token string"},`$"Couldn't infer @page for component `),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},[n("span",{class:"token keyword"},"typeof"),n("span",{class:"token punctuation"},"("),n("span",{class:"token type-expression class-name"},"T"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("Name")]),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" fileName "),n("span",{class:"token operator"},"="),s(" route"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"EndsWith"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/"'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"?"),s(" route "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},'"index.html"'),s(),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token interpolation-string"},[n("span",{class:"token string"},'$"'),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},"route"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'.html"')]),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" writeTo "),n("span",{class:"token operator"},"="),s(" Path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"GetFullPath"),n("span",{class:"token punctuation"},"("),s("PrerenderDir"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"CombineWith"),n("span",{class:"token punctuation"},"("),s("fileName"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token function"},"WriteLine"),n("span",{class:"token punctuation"},"("),n("span",{class:"token interpolation-string"},[n("span",{class:"token string"},'$"Written to '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},"writeTo"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        File`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"WriteAllText"),n("span",{class:"token punctuation"},"("),s("writeTo"),n("span",{class:"token punctuation"},","),s(" component"),n("span",{class:"token punctuation"},"."),s("Markup"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"Test")]),n("span",{class:"token punctuation"},"]"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"void")]),s(),n("span",{class:"token function"},"PrerenderPages"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token generic-method"},[n("span",{class:"token function"},"Render"),n("span",{class:"token generic class-name"},[n("span",{class:"token punctuation"},"<"),s("Client"),n("span",{class:"token punctuation"},"."),s("Pages"),n("span",{class:"token punctuation"},"."),s("Index"),n("span",{class:"token punctuation"},">")])]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token comment"},"// Add Pages to prerender..."),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),Js=n("p",null,[s("Being a unit test gives it a number of different ways it can be run, using any of the NUnit test runners, from the GUI integrated in C# IDEs or via command-line test runners like "),n("code",null,"dotnet test"),s(" which can be done with:")],-1),Ks=n("div",{class:"language-bash"},[n("pre",null,[n("code",null,[s("$ dotnet "),n("span",{class:"token builtin class-name"},"test"),s(" --filter "),n("span",{class:"token assign-left variable"},"TestCategory"),n("span",{class:"token operator"},"="),s(`prerender 
`)])])],-1),Xs=n("p",null,[s("To have CI automatically run it when it creates a production build of our App we'll add it to our Host "),n("code",null,".csproj"),s(":")],-1),Qs=n("div",{class:"language-xml"},[n("pre",null,[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("PropertyGroup")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("TestsDir")]),n("span",{class:"token punctuation"},">")]),s("$(MSBuildProjectDirectory)/../MyApp.Tests"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("TestsDir")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("PropertyGroup")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("Target")]),s(),n("span",{class:"token attr-name"},"Name"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("AppTasks"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"AfterTargets"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("Build"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"Condition"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("$(APP_TASKS) != "),n("span",{class:"token punctuation"},"'"),n("span",{class:"token punctuation"},"'"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("CallTarget")]),s(),n("span",{class:"token attr-name"},"Targets"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("Prerender"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"Condition"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("$(APP_TASKS.Contains("),n("span",{class:"token punctuation"},"'"),s("prerender"),n("span",{class:"token punctuation"},"'"),s("))"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("Target")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("Target")]),s(),n("span",{class:"token attr-name"},"Name"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("Prerender"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("Exec")]),s(),n("span",{class:"token attr-name"},"Command"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("dotnet test --filter TestCategory=prerender --logger:"),n("span",{class:"token entity named-entity",title:'"'},"&quot;"),s("console;verbosity=detailed"),n("span",{class:"token entity named-entity",title:'"'},"&quot;"),n("span",{class:"token punctuation"},'"')]),s(` 
            `),n("span",{class:"token attr-name"},"WorkingDirectory"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("$(TestsDir)"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("Target")]),n("span",{class:"token punctuation"},">")]),s(`
`)])])],-1),Ys=n("p",null,[s("Which allows "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/9460ebf57d3e46af1680eb3a2ff5080e59d33a54/.github/workflows/release.yml#L80",target:"_blank",rel:"noopener noreferrer"},"GitHub Actions to run it"),s(" when it publishes the App with:")],-1),Zs=n("div",{class:"language-bash"},[n("pre",null,[n("code",null,[s("$ dotnet publish -c Release /p:APP_TASKS"),n("span",{class:"token operator"},"="),s(`prerender
`)])])],-1),na=n("p",null,[s("Now when we next commit code, the GitHub CI Action will run the above task to generate our "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/gh-pages/prerender/index.html",target:"_blank",rel:"noopener noreferrer"},"/prerender/index.html"),s(" page that now loads our "),n("a",{href:"https://blazor-wasm.jamstacks.net",target:"_blank",rel:"noopener noreferrer"},"Home Page"),s(" instantly!")],-1),sa=n("p",null,[n("a",{href:"/"},[n("img",{src:"https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/jamstack/blazor-wasm/home-prerendered.png",alt:""})])],-1),aa=n("p",null,[s("The only issue now is that the default Blazor template behavior will yank our pre-rendered page, once during loading and another during Authorization. To stop the unwanted yanking we've updated the "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.Client/Shared/Loading.razor",target:"_blank",rel:"noopener noreferrer"},[n("code",null,"<Loading/>")]),s(" component to instead load the prerendered page content if it's "),n("strong",null,"for the current path"),s(":")],-1),ta=n("div",{class:"language-razor"},[n("pre",null,[n("code",null,[n("span",{class:"token directive"},[n("span",{class:"token keyword"},"@inject"),s(),n("span",{class:"token csharp language-csharp"},"IJSRuntime JsRuntime")]),s(`
`),n("span",{class:"token directive"},[n("span",{class:"token keyword"},"@inject"),s(),n("span",{class:"token csharp language-csharp"},"NavigationManager NavigationManager")]),s(`

`),n("span",{class:"token block"},[n("span",{class:"token keyword"},"@if"),s(),n("span",{class:"token csharp language-csharp"},[n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),n("span",{class:"token keyword"},"string"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"IsNullOrEmpty"),n("span",{class:"token punctuation"},"("),s("prerenderedHtml"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    @`),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("MarkupString"),n("span",{class:"token punctuation"},")"),s("prerenderedHtml"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token keyword"},"else"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token operator"},"<"),s("div "),n("span",{class:"token keyword"},"class"),n("span",{class:"token operator"},"="),s("@CssUtils"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ClassNames"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"spinner-border float-start mt-2 me-2"'),n("span",{class:"token punctuation"},","),s(" @"),n("span",{class:"token keyword"},"class"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},">"),s(`
        `),n("span",{class:"token html"},[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("span")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("sr-only"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("span")]),n("span",{class:"token punctuation"},">")])]),s(`
    `),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("div"),n("span",{class:"token operator"},">"),s(`
    `),n("span",{class:"token html"},[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("h1")]),s(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value css language-css"},[n("span",{class:"token property"},"font-size"),n("span",{class:"token punctuation"},":"),s("36px")]),n("span",{class:"token punctuation"},'"')])]),n("span",{class:"token punctuation"},">")]),s(`
        Loading...
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("h1")]),n("span",{class:"token punctuation"},">")])]),s(`
`),n("span",{class:"token punctuation"},"}")])]),s(`

`),n("span",{class:"token block"},[n("span",{class:"token keyword"},"@code"),s(),n("span",{class:"token csharp language-csharp"},[n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"Parameter")]),n("span",{class:"token punctuation"},"]"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string")]),s(" Message "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"Loading..."'),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"Parameter")]),n("span",{class:"token punctuation"},"]"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string")]),s(" @"),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string")]),s(" prerenderedHtml "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"protected"),s(),n("span",{class:"token keyword"},"override"),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token return-type class-name"},"Task"),s(),n("span",{class:"token function"},"OnInitializedAsync"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" html "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" JsRuntime"),n("span",{class:"token punctuation"},"."),n("span",{class:"token generic-method"},[n("span",{class:"token function"},"InvokeAsync"),n("span",{class:"token generic class-name"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token keyword"},"string"),n("span",{class:"token punctuation"},">")])]),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"prerenderedPage"'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"??"),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" currentPath "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token constructor-invocation class-name"},"Uri"),n("span",{class:"token punctuation"},"("),s("NavigationManager"),n("span",{class:"token punctuation"},"."),s("Uri"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("AbsolutePath"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("html"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"IndexOf"),n("span",{class:"token punctuation"},"("),n("span",{class:"token interpolation-string"},[n("span",{class:"token string"},'$"data-prerender=\\"'),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},"currentPath"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'\\""')]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),s(`
            prerenderedHtml `),n("span",{class:"token operator"},"="),s(" html"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}")])]),s(`
`)])])],-1),ea=n("p",null,[s("Whilst to prevent yanking by the Authorization component we'll also include the current page when rendering the alternate layout with an "),n("code",null,"Authenticating..."),s(" text that will appear under the Login/Logout buttons on the top-right:")],-1),oa=n("div",{class:"language-xml"},[n("pre",null,[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("AuthorizeRouteView")]),s(),n("span",{class:"token attr-name"},"RouteData"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("@routeData"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"DefaultLayout"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("@typeof(MainLayout)"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("Authorizing")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("p")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("text-muted"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("float:right;margin:1rem 1rem 0 0"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s("Authenticating..."),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("p")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("RouteView")]),s(),n("span",{class:"token attr-name"},"RouteData"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("@routeData"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("Authorizing")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("AuthorizeRouteView")]),n("span",{class:"token punctuation"},">")]),s(`
`)])])],-1),ca=n("p",null,[s("This last change brings us to the optimal UX we have now with the home page loading instantly whilst our Blazor App is loading in the background that'll eventually replace the home page with its identical looking C# version except for the "),n("strong",null,"box-shadow under the top navigation"),s(" so you can tell when you're looking at the pre-rendered version instead of the C# Blazor version.")],-1),pa=n("h3",{id:"prerendering-markdown-content",tabindex:"-1"},[s("Prerendering Markdown Content "),n("a",{class:"header-anchor",href:"#prerendering-markdown-content","aria-hidden":"true"},"#")],-1),la=n("p",null,[s("The other pages that would greatly benefit from prerendering are the Markdown "),n("code",null,"/docs/*"),s(" pages (like this one) that's implemented in "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.Client/Pages/Docs.razor",target:"_blank",rel:"noopener noreferrer"},"Docs.razor"),s(".")],-1),ua=n("p",null,[s("However to enable SEO friendly content our "),n("code",null,"fetch(/prerender/*)"),s(" solution isn't good enough as the initial page download needs to contain the prerendered content, i.e. instead of being downloaded in after.")],-1),ia=n("h3",{id:"prerendermarkdown-task",tabindex:"-1"},[s("PrerenderMarkdown Task "),n("a",{class:"header-anchor",href:"#prerendermarkdown-task","aria-hidden":"true"},"#")],-1),ra=n("p",null,[s("To do this our "),n("code",null,"PrerenderMarkdown"),s(" Task scans all "),n("code",null,"*.md"),s(" pages in the "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/tree/main/MyApp.Client/wwwroot/content",target:"_blank",rel:"noopener noreferrer"},"content"),s(" directory and uses the same "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.Client/MarkdownUtils.cs",target:"_blank",rel:"noopener noreferrer"},"/MyApp.Client/MarkdownUtils.cs"),s(" implementation "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/blob/main/MyApp.Client/Pages/Docs.razor",target:"_blank",rel:"noopener noreferrer"},"Docs.razor"),s(" uses to generate the markdown and embeds it into the "),n("code",null,"index.html"),s(" loading page to generate the pre-rendered page:")],-1),ka=n("div",{class:"language-csharp"},[n("pre",null,[n("code",null,[n("span",{class:"token punctuation"},"["),n("span",{class:"token attribute"},[n("span",{class:"token class-name"},"Test")]),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"async"),s(),n("span",{class:"token return-type class-name"},"Task"),s(),n("span",{class:"token function"},"PrerenderMarkdown"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" srcDir "),n("span",{class:"token operator"},"="),s(" WwrootDir"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"CombineWith"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"content"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Replace"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string character"},"'\\\\'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string character"},"'/'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" dstDir "),n("span",{class:"token operator"},"="),s(" WwrootDir"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"CombineWith"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"docs"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Replace"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string character"},"'\\\\'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string character"},"'/'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            
    `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" indexPage "),n("span",{class:"token operator"},"="),s(" PageTemplate"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Create"),n("span",{class:"token punctuation"},"("),s("WwrootDir"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"CombineWith"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"index.html"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("Directory"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Exists"),n("span",{class:"token punctuation"},"("),s("srcDir"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token constructor-invocation class-name"},"Exception"),n("span",{class:"token punctuation"},"("),n("span",{class:"token interpolation-string"},[n("span",{class:"token string"},'$"'),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},[s("Path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"GetFullPath"),n("span",{class:"token punctuation"},"("),s("srcDir"),n("span",{class:"token punctuation"},")")]),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},' does not exist"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    FileSystemVirtualFiles`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"RecreateDirectory"),n("span",{class:"token punctuation"},"("),s("dstDir"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token keyword"},"foreach"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" file "),n("span",{class:"token keyword"},"in"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token constructor-invocation class-name"},"DirectoryInfo"),n("span",{class:"token punctuation"},"("),s("srcDir"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"GetFiles"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"*.md"'),n("span",{class:"token punctuation"},","),s(" SearchOption"),n("span",{class:"token punctuation"},"."),s("AllDirectories"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token function"},"WriteLine"),n("span",{class:"token punctuation"},"("),n("span",{class:"token interpolation-string"},[n("span",{class:"token string"},'$"Converting '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},[s("file"),n("span",{class:"token punctuation"},"."),s("FullName")]),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},' ..."')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" name "),n("span",{class:"token operator"},"="),s(" file"),n("span",{class:"token punctuation"},"."),s("Name"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"WithoutExtension"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" docRender "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"await"),s(" Client"),n("span",{class:"token punctuation"},"."),s("MarkdownUtils"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"LoadDocumentAsync"),n("span",{class:"token punctuation"},"("),s("name"),n("span",{class:"token punctuation"},","),s(" doc "),n("span",{class:"token operator"},"=>"),s(`
            Task`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"FromResult"),n("span",{class:"token punctuation"},"("),s("File"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ReadAllText"),n("span",{class:"token punctuation"},"("),s("file"),n("span",{class:"token punctuation"},"."),s("FullName"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("docRender"),n("span",{class:"token punctuation"},"."),s("Failed"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"WriteLine"),n("span",{class:"token punctuation"},"("),n("span",{class:"token interpolation-string"},[n("span",{class:"token string"},'$"Failed: '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},[s("docRender"),n("span",{class:"token punctuation"},"."),s("ErrorMessage")]),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"continue"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`

        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" dirName "),n("span",{class:"token operator"},"="),s(" dstDir"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"IndexOf"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"wwwroot"'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">="),s(),n("span",{class:"token number"},"0"),s(`
            `),n("span",{class:"token punctuation"},"?"),s(" dstDir"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"LastRightPart"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"wwwroot"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Replace"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string character"},"'\\\\'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string character"},"'/'"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token constructor-invocation class-name"},"DirectoryInfo"),n("span",{class:"token punctuation"},"("),s("dstDir"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),s("Name"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" path "),n("span",{class:"token operator"},"="),s(" dirName"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"CombineWith"),n("span",{class:"token punctuation"},"("),s("name "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token string"},'"index"'),s(),n("span",{class:"token punctuation"},"?"),s(),n("span",{class:"token string"},'""'),s(),n("span",{class:"token punctuation"},":"),s(" name"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" mdBody "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token interpolation-string"},[n("span",{class:"token string"},`@$"
<div class=""prose lg:prose-xl min-vh-100 m-3"" data-prerender=""`),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},"path"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},`"">
    <div class=""markdown-body"">
        `),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},[s("docRender"),n("span",{class:"token punctuation"},"."),s("Response"),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},"."),s("Preview"),n("span",{class:"token operator"},"!")]),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},`
    </div>
</div>"`)]),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" prerenderedPage "),n("span",{class:"token operator"},"="),s(" indexPage"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Render"),n("span",{class:"token punctuation"},"("),s("mdBody"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"string")]),s(" htmlPath "),n("span",{class:"token operator"},"="),s(" Path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"GetFullPath"),n("span",{class:"token punctuation"},"("),s("Path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Combine"),n("span",{class:"token punctuation"},"("),s("dstDir"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token interpolation-string"},[n("span",{class:"token string"},'$"'),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},"name"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'.html"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        File`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"WriteAllText"),n("span",{class:"token punctuation"},"("),s("htmlPath"),n("span",{class:"token punctuation"},","),s(" prerenderedPage"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token function"},"WriteLine"),n("span",{class:"token punctuation"},"("),n("span",{class:"token interpolation-string"},[n("span",{class:"token string"},'$"Written to '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},"htmlPath"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"PageTemplate"),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string"),n("span",{class:"token punctuation"},"?")]),s(" Header "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string"),n("span",{class:"token punctuation"},"?")]),s(" Footer "),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token keyword"},"get"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token keyword"},"set"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token function"},"PageTemplate"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"string"),n("span",{class:"token punctuation"},"?")]),s(" header"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"string"),n("span",{class:"token punctuation"},"?")]),s(" footer"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        Header `),n("span",{class:"token operator"},"="),s(" header"),n("span",{class:"token punctuation"},";"),s(`
        Footer `),n("span",{class:"token operator"},"="),s(" footer"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"static"),s(),n("span",{class:"token return-type class-name"},"PageTemplate"),s(),n("span",{class:"token function"},"Create"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"string")]),s(" indexPath"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("File"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Exists"),n("span",{class:"token punctuation"},"("),s("indexPath"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token constructor-invocation class-name"},"Exception"),n("span",{class:"token punctuation"},"("),n("span",{class:"token interpolation-string"},[n("span",{class:"token string"},'$"'),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},[s("Path"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"GetFullPath"),n("span",{class:"token punctuation"},"("),s("indexPath"),n("span",{class:"token punctuation"},")")]),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},' does not exist"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"string"),n("span",{class:"token punctuation"},"?")]),s(" header "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"string"),n("span",{class:"token punctuation"},"?")]),s(" footer "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" sb "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token constructor-invocation class-name"},"StringBuilder"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"foreach"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"var")]),s(" line "),n("span",{class:"token keyword"},"in"),s(" File"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ReadAllLines"),n("span",{class:"token punctuation"},"("),s("indexPath"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("header "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("line"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Contains"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"<!--PAGE-->"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token punctuation"},"{"),s(`
                    header `),n("span",{class:"token operator"},"="),s(" sb"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ToString"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(),n("span",{class:"token comment"},"// capture up to start page marker"),s(`
                    sb`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Clear"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`
                `),n("span",{class:"token keyword"},"else"),s(" sb"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"AppendLine"),n("span",{class:"token punctuation"},"("),s("line"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token keyword"},"else"),s(`
            `),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("sb"),n("span",{class:"token punctuation"},"."),s("Length "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token punctuation"},"{"),s(`
                    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("line"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"Contains"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"<!--/PAGE-->"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token comment"},"// discard up to end page marker"),s(`
                    `),n("span",{class:"token punctuation"},"{"),s(`
                        sb`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"AppendLine"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                        `),n("span",{class:"token keyword"},"continue"),n("span",{class:"token punctuation"},";"),s(`
                    `),n("span",{class:"token punctuation"},"}"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`
                `),n("span",{class:"token keyword"},"else"),s(" sb"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"AppendLine"),n("span",{class:"token punctuation"},"("),s("line"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        footer `),n("span",{class:"token operator"},"="),s(" sb"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ToString"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"string"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"IsNullOrEmpty"),n("span",{class:"token punctuation"},"("),s("header"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token keyword"},"string"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"IsNullOrEmpty"),n("span",{class:"token punctuation"},"("),s("footer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"throw"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token constructor-invocation class-name"},"Exception"),n("span",{class:"token punctuation"},"("),n("span",{class:"token interpolation-string"},[n("span",{class:"token string"},'$"Parsing '),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token expression language-csharp"},"indexPath"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},' failed, missing <!--PAGE-->...<!--/PAGE--> markers"')]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token constructor-invocation class-name"},"PageTemplate"),n("span",{class:"token punctuation"},"("),s("header"),n("span",{class:"token punctuation"},","),s(" footer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token return-type class-name"},[n("span",{class:"token keyword"},"string")]),s(),n("span",{class:"token function"},"Render"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},[n("span",{class:"token keyword"},"string")]),s(" body"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(" Header "),n("span",{class:"token operator"},"+"),s(" body "),n("span",{class:"token operator"},"+"),s(" Footer"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1),da=n("p",null,[s("Whilst the "),n("code",null,"wwwroot/index.html"),s(" is parsed with "),n("code",null,"PageTemplate"),s(" above who uses the resulting layout to generate pages within "),n("code",null,"<!--PAGE--><!--/PAGE-->"),s(" markers.")],-1),ha=n("p",null,[s("After it's also executed by the same MSBuild task run by GitHub Actions it prerenders all "),n("code",null,"/wwwroot/content/*.md"),s(" pages which are written to the "),n("a",{href:"https://github.com/NetCoreTemplates/blazor-wasm/tree/gh-pages/docs",target:"_blank",rel:"noopener noreferrer"},"/wwwroot/docs/*.html"),s(" folder.")],-1),ga=n("p",null,[s("This results in the path to the pre-generated markdown docs i.e. "),n("a",{href:"https://blazor-wasm.jamstacks.net/docs/prerender",target:"_blank",rel:"noopener noreferrer"},"/docs/prerender"),s(" having the "),n("strong",null,"exact same path"),s(" as its route in the Blazor App, which when exists, CDNs give priority to over the SPA fallback the Blazor App is loaded with.")],-1),ma=n("p",null,`It shares similar behavior as the home page where its pre-rendered content is initially loaded before it's replaced with the C# version once the Blazor App loads. The difference is that it prerenders "complete pages" for better SEO & TTFR.`,-1),va='{"title":"Getting Started","description":"","frontmatter":{},"headers":[{"level":2,"title":"Getting Started","slug":"getting-started"},{"level":3,"title":"Download new C# Blazor WASM Project","slug":"download-new-c-blazor-wasm-project"},{"level":2,"title":"Api and ApiAsync methods","slug":"api-and-apiasync-methods"},{"level":3,"title":"The ApiResult way","slug":"the-apiresult-way"},{"level":2,"title":"JSON API Client","slug":"json-api-client"},{"level":3,"title":"Public Pages & Components","slug":"public-pages-components"},{"level":3,"title":"Protected Pages & Components","slug":"protected-pages-components"},{"level":2,"title":"Benefits of Shared DTOs","slug":"benefits-of-shared-dtos"},{"level":3,"title":"TypeScript Example","slug":"typescript-example"},{"level":3,"title":"Blazor WASM Example","slug":"blazor-wasm-example"},{"level":2,"title":"ServiceStack.Blazor","slug":"servicestack-blazor"},{"level":3,"title":"Built-in Blazor and Tailwind UI Components","slug":"built-in-blazor-and-tailwind-ui-components"},{"level":3,"title":"Themable","slug":"themable"},{"level":3,"title":"Bookings CRUD","slug":"bookings-crud"},{"level":2,"title":"Blazor Trade-offs","slug":"blazor-trade-offs"},{"level":3,"title":"Improving Startup Performance","slug":"improving-startup-performance"},{"level":3,"title":"Increasing Perceived Performance","slug":"increasing-perceived-performance"},{"level":3,"title":"Improving UX with Prerendering","slug":"improving-ux-with-prerendering"},{"level":3,"title":"Prerendering Markdown Content","slug":"prerendering-markdown-content"},{"level":3,"title":"PrerenderMarkdown Task","slug":"prerendermarkdown-task"}],"relativePath":"templates-blazor.md","lastUpdated":1645007721765}',ya={};function wa(r){return(t,p)=>(l(),u("div",null,[n("div",$,[n("div",null,[o(c(i),{icon:"simple-icons:blazor",class:"w-44 h-44 text-purple-600"})]),O]),H,U,L,F,V,G,J,K,o(W,{class:"pb-8"}),X,Q,Y,Z,nn,sn,an,tn,en,on,cn,pn,ln,un,rn,kn,dn,hn,gn,mn,yn,wn,fn,bn,vn,_n,xn,An,Tn,Cn,Sn,zn,Bn,Pn,qn,Rn,In,Dn,Nn,Mn,jn,En,Wn,$n,On,Hn,Un,Ln,Fn,Vn,Gn,Jn,Kn,Xn,Qn,Yn,Zn,ns,ss,as,ts,es,os,cs,ps,ls,us,is,rs,ks,ds,hs,gs,ms,ys,ws,fs,bs,vs,_s,xs,As,Ts,Cs,Ss,zs,Bs,Ps,qs,Rs,Is,Ds,Ns,Ms,js,Es,Ws,$s,Os,Hs,Us,Ls,Fs,Vs,Gs,Js,Ks,Xs,Qs,Ys,Zs,na,sa,aa,ta,ea,oa,ca,pa,la,ua,ia,ra,ka,da,ha,ga,ma]))}const _a=Object.assign(ya,{setup:wa});export{va as __pageData,_a as default};
